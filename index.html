<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Trading Bitget Futures - Strat√©gie MACD TOP 20</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ BOT BITGET - STRAT√âGIE MACD</h1>
            <div class="version-badge">Derni√®re MAJ: 06/01/2025 19:45</div>
        </div>
        
        <div class="grid">
            <div class="card">
                <h3>‚öôÔ∏è Configuration API</h3>
                <div class="status">
                    <div class="status-dot" id="connectionStatus"></div>
                    <span id="connectionText">D√©connect√©</span>
                </div>
                
                <div class="form-group">
                    <label>API Key:</label>
                    <input type="password" id="apiKey" placeholder="Votre API Key Bitget">
                </div>
                
                <div class="form-group">
                    <label>Secret Key:</label>
                    <input type="password" id="secretKey" placeholder="Votre Secret Key">
                </div>
                
                <div class="form-group">
                    <label>Passphrase:</label>
                    <input type="password" id="passphrase" placeholder="Votre Passphrase">
                </div>
                
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <button class="btn" onclick="loadApiKeys()" style="flex: 1;">üîë Charger les cl√©s</button>
                    <button class="btn" onclick="testConnection()" style="flex: 1;">üîó Tester la connexion</button>
                </div>
                <button class="btn btn-success" onclick="saveKeys()" style="width: 100%;">üíæ Sauvegarder les cl√©s</button>
            </div>
            
            <div class="card">
                <h3>üìä Param√®tres Strat√©gie MACD</h3>
                
                <div class="form-group">
                    <label>Capital √† utiliser (% du total):</label>
                    <input type="number" id="capitalPercent" value="5" min="1" max="20" step="1">
                    <small>5% du capital √ó levier 2x par position</small>
                </div>
                
                <div class="form-group">
                    <label>Levier:</label>
                    <select id="leverage">
                        <option value="2" selected>2x (Recommand√©)</option>
                        <option value="3">3x</option>
                        <option value="5">5x</option>
                        <option value="10">10x</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Trailing Stop (%):</label>
                    <input type="number" id="trailingStop" value="1" min="0.5" max="5" step="0.1">
                    <small>Recul maximum autoris√©</small>
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <button class="btn" onclick="startBot()" id="startBtn">‚ñ∂Ô∏è D√©marrer Strat√©gie</button>
                    <button class="btn btn-danger" onclick="stopBot()" id="stopBtn" disabled>‚èπÔ∏è Arr√™ter Bot</button>
                </div>
                
                <div style="margin-top: 15px;">
                    <button class="btn" onclick="scanTop30Volume()" style="width: 100%;">üîç Scanner TOP 30 Volume</button>
                </div>
                
                <div style="margin-top: 10px;">
                    <button class="btn" onclick="manageTrailingStops()" style="width: 100%;">üîÑ V√©rifier Stop Loss Manuellement</button>
                </div>
                
                <div style="margin-top: 10px;">
                    <button class="btn" onclick="checkPositionsStatus()" style="width: 100%;">üîÑ Synchroniser Positions</button>
                </div>
            </div>
        </div>
        
        <div class="grid">
            <div class="card">
                <h3>üìà TOP 30 Volume (Surveillance)</h3>
                <div style="margin-bottom: 10px;">
                    <strong>Paire en cours d'analyse:</strong> <span id="currentScanPair">--</span>
                </div>
                <div class="top20-list" id="top20List">
                    <div class="pair-item">
                        <span>Chargement...</span>
                        <span>--</span>
                    </div>
                </div>
                <div style="margin-top: 10px; font-size: 12px; color: #666;">
                    <strong>Derni√®re MAJ:</strong> <span id="lastScanTime">--</span>
                </div>
            </div>
            
            <div class="card">
                <h3>üíº Positions Ouvertes</h3>
                <div id="positionsContainer">
                    <div style="text-align: center; color: #666; padding: 20px;">
                        Aucune position ouverte
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <strong>Capital utilis√©:</strong> <span id="usedCapital">0 USDT</span> / 
                    <strong>Disponible:</strong> <span id="availableCapital">-- USDT</span>
                </div>
            </div>
        </div>
        
        <div class="grid">
            <div class="card">
                <h3>üí≥ Balance Futures</h3>
                <div id="balanceContainer">
                    <div class="balance-item">
                        <span>USDT Total:</span>
                        <span id="usdtBalance">--</span>
                    </div>
                    <div class="balance-item">
                        <span>√âquit√©:</span>
                        <span id="totalEquity">--</span>
                    </div>
                </div>
                <button class="btn" onclick="refreshBalance()" style="width: 100%; margin-top: 10px;">üîÑ Actualiser</button>
            </div>
            
            <div class="card">
                <h3>üìä Statistiques Bot</h3>
                <div class="balance-item">
                    <span>Scans effectu√©s:</span>
                    <span id="totalScans">0</span>
                </div>
                <div class="balance-item">
                    <span>Signaux d√©tect√©s:</span>
                    <span id="totalSignals">0</span>
                </div>
                <div class="balance-item">
                    <span>Positions ouvertes:</span>
                    <span id="totalOpenPositions">0</span>
                </div>
                <div class="balance-item">
                    <span>Uptime:</span>
                    <span id="botUptime">00:00:00</span>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h3>üìù Logs de Trading</h3>
            <div class="logs" id="logs">
                [INFO] Bot de trading MACD TOP 30 initialis√©...<br>
                [INFO] Strat√©gie: 5% capital √ó 2x levier √ó 1% trailing stop<br>
                [INFO] Syst√®me de trailing stop automatique activ√©<br>
                [INFO] En attente de configuration API...<br>
            </div>
            <button class="btn" onclick="clearLogs()" style="margin-top: 10px;">üóëÔ∏è Effacer logs</button>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/trading.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 
