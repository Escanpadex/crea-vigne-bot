<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Trading MACD - Interface de Contr√¥le</title>
    <link rel="stylesheet" href="styles/main.css">
    <!-- TradingView Widget Script -->
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header avec design moderne -->
        <div class="header">
            <h1>‚ö° TRADING BOT</h1>
            <p>Interface de contr√¥le avanc√©e - Strat√©gie MACD</p>
        </div>

        <!-- Grille principale -->
        <div class="grid">
            <!-- API Status & Connection -->
            <div class="card">
                <h3>üîó Statut de l'API</h3>
                <div class="status">
                    <div class="status-dot" id="api-status-dot"></div>
                    <span id="api-status">D√©connect√©</span>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Balance</div>
                        <div class="stat-value cyan" id="balance-display">$0.00</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">P&L</div>
                        <div class="stat-value" id="pnl-display">$0.00</div>
                    </div>
                </div>

                <button class="btn" onclick="connectAPI()" id="connect-btn">Se connecter</button>
            </div>

            <!-- Configuration Trading -->
            <div class="card">
                <h3>‚öôÔ∏è Param√®tres Strat√©gie MACD</h3>
                
                <div class="form-group">
                    <label for="timeframe">Timeframe:</label>
                    <select id="timeframe">
                        <option value="1m">1 minute</option>
                        <option value="5m" selected>5 minutes</option>
                        <option value="15m">15 minutes</option>
                        <option value="1h">1 heure</option>
                        <option value="4h">4 heures</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="top-volume-count">Select a pair (TOP 30 Volume):</label>
                    <select id="top-volume-count">
                        <option value="">Loading top 30 volume...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fast-period">MACD Fast:</label>
                    <input type="number" id="fast-period" value="12" min="1" max="50">
                    <small>P√©riode rapide pour le calcul MACD</small>
                </div>

                <div class="form-group">
                    <label for="slow-period">MACD Slow:</label>
                    <input type="number" id="slow-period" value="26" min="1" max="100">
                    <small>P√©riode lente pour le calcul MACD</small>
                </div>

                <div class="form-group">
                    <label for="signal-period">Signal Period:</label>
                    <input type="number" id="signal-period" value="9" min="1" max="50">
                    <small>P√©riode pour la ligne de signal</small>
                </div>

                <button class="btn btn-success" onclick="startBot()" id="start-btn">üöÄ D√©marrer le Bot</button>
                <button class="btn btn-danger" onclick="stopBot()" id="stop-btn">‚èπÔ∏è Arr√™ter le Bot</button>
            </div>

            <!-- TOP 20 Volume -->
            <div class="card">
                <h3>üìä TOP 20 Volume</h3>
                <div class="top20-list" id="top20-list">
                    <div class="pair-item">Chargement des donn√©es...</div>
                </div>
                <button class="btn" onclick="scanTop20()" id="scan-btn">üîÑ Scanner Top 20</button>
            </div>

            <!-- Statistiques de Trading -->
            <div class="card">
                <h3>üìà Statistiques</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Trades</div>
                        <div class="stat-value" id="total-trades">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Gagnants</div>
                        <div class="stat-value success" id="winning-trades">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Perdants</div>
                        <div class="stat-value danger" id="losing-trades">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Win Rate</div>
                        <div class="stat-value warning" id="win-rate">0%</div>
                    </div>
                </div>
                
                <div class="dominance-bar">
                    <div class="dominance-fill success" style="width: 65%" id="success-bar"></div>
                </div>
            </div>

            <!-- Positions Actives -->
            <div class="card">
                <h3>üíº Positions Actives</h3>
                <div id="positions-list">
                    <p class="text-muted">Aucune position active</p>
                </div>
            </div>

            <!-- Logs & Activity -->
            <div class="card" style="grid-column: 1 / -1;">
                <h3>üìù Journal d'Activit√©</h3>
                <button class="btn" onclick="toggleLogs()" style="margin-bottom: 16px;">üëÅÔ∏è Afficher/Masquer Logs</button>
                <div class="logs hidden" id="logs">
                    <div>üïê Bot Trading MACD initialis√©...</div>
                    <div>‚ö° En attente de connexion API...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/bot.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 